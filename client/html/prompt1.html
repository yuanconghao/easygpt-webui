<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0 maximum-scale=1.0"/>
    <meta name="description" content="A conversational AI system that listens, learns, and challenges"/>
    <meta property="og:title" content="ChatGPT"/>
    <meta property="og:image" content="https://openai.com/content/images/2022/11/ChatGPT.jpg"/>
    <meta
            property="og:description"
            content="A conversational AI system that listens, learns, and challenges"/>
    <meta property="og:url" content="https://chat.acy.dev"/>
    <link rel="stylesheet" href="{{ url_for('bp.static', filename='css/style.css') }}"/>
    <link rel="stylesheet" href="{{ url_for('bp.static', filename='semantic/semantic.min.css') }}"/>
    <link
            rel="apple-touch-icon"
            sizes="180x180"
            href="{{ url_for('bp.static', filename='img/apple-touch-icon.png') }}"/>
    <link
            rel="icon"
            type="image/png"
            sizes="32x32"
            href="{{ url_for('bp.static', filename='img/favicon-32x32.png') }}"/>
    <link
            rel="icon"
            type="image/png"
            sizes="16x16"
            href="{{ url_for('bp.static', filename='img/favicon-16x16.png') }}"/>
    <link rel="manifest" href="{{ url_for('bp.static', filename='img/site.webmanifest') }}"/>
    <script src="{{ url_for('bp.static', filename='js/jquery.min.js') }}"></script>
    <script src="{{ url_for('bp.static', filename='js/lesson_menu.js') }}"></script>
    <script src="{{ url_for('bp.static', filename='semantic/semantic.min.js') }}"></script>
    <link
            rel="stylesheet"
            href="//cdn.jsdelivr.net/gh/highlightjs/cdn-release@latest/build/styles/base16/dracula.min.css"/>
    <title>EasyGPT--Prompt</title>
</head>

<body data-urlprefix="{{ url_prefix }}">
<div class="main-container">
    <div class="ui one column stackable grid">
        <div class="column">
            <div class="ui selection dropdown level">
                <input name="level" type="hidden" value="">
                <i class="dropdown icon"></i>
                <div class="default text">Level1</div>
                <div class="menu">
                    <div class="item" data-value="Level0">Level0</div>
                    <div class="item" data-value="Level1">Level1</div>
                    <div class="item" data-value="Level2">Level2</div>
                    <div class="item" data-value="Level3">Level3</div>
                    <div class="item" data-value="Level4">Level4</div>
                    <div class="item" data-value="Level5">Level5</div>
                    <div class="item" data-value="Level6">Level6</div>
                </div>
            </div>
            <div class="ui selection dropdown unit">
                <input name="unit" type="hidden" value="">
                <i class="dropdown icon"></i>
                <div class="default text">Unit9</div>
                <div class="menu">
                    <div class="item" data-value="Unit1">Unit1</div>
                    <div class="item" data-value="Unit2">Unit2</div>
                    <div class="item" data-value="Unit3">Unit3</div>
                    <div class="item" data-value="Unit4">Unit4</div>
                    <div class="item" data-value="Unit5">Unit5</div>
                    <div class="item" data-value="Unit6">Unit6</div>
                    <div class="item" data-value="Unit7">Unit7</div>
                    <div class="item" data-value="Unit8">Unit8</div>
                    <div class="item" data-value="Unit9">Unit9</div>
                    <div class="item" data-value="Unit10">Unit10</div>
                    <div class="item" data-value="Unit11">Unit11</div>
                    <div class="item" data-value="Unit12">Unit12</div>
                    <div class="item" data-value="Unit13">Unit13</div>
                    <div class="item" data-value="Unit14">Unit14</div>
                    <div class="item" data-value="Unit15">Unit15</div>
                    <div class="item" data-value="Unit16">Unit16</div>
                    <div class="item" data-value="Unit17">Unit17</div>
                    <div class="item" data-value="Unit18">Unit18</div>
                </div>
            </div>
            <div class="ui selection dropdown lesson">
                <input name="lesson" type="hidden" value="">
                <i class="dropdown icon"></i>
                <div class="default text">Lesson8</div>
                <div class="menu">
                    <div class="item" data-value="Lesson1">Lesson1</div>
                    <div class="item" data-value="Lesson2">Lesson2</div>
                    <div class="item" data-value="Lesson3">Lesson3</div>
                    <div class="item" data-value="Lesson4">Lesson4</div>
                    <div class="item" data-value="Lesson5">Lesson5</div>
                    <div class="item" data-value="Lesson6">Lesson6</div>
                    <div class="item" data-value="Lesson7">Lesson7</div>
                    <div class="item" data-value="Lesson8">Lesson8</div>
                </div>
            </div>
            <div class="ui divider"></div>
            <div class="ui labeled input">
                <a class="ui label">
                    Topic
                </a>
                <input type="text" size="30" placeholder="Special Days" name="topic">
            </div>
            <div class="ui labeled input">
                <a class="ui label">
                    Title
                </a>
                <input type="text" size="30" placeholder="Gifts for Parents" name="title">
            </div>
            <div class="ui divider"></div>
            <div class="ui labeled input">
                <a class="ui label">
                    Words
                </a>
                <input type="text" size="100" placeholder="card|every|father|mother|sometimes|parent" name="words">
            </div>
            <div class="ui divider"></div>
            <div class="ui labeled input">
                <a class="ui label">
                    Sentence
                </a>
                <input type="text" size="100" placeholder="Sometimes I give him a card.|I just give him a hug"
                       name="sentence">
            </div>
            <div class="ui divider"></div>
            <div class="ui ignored warning message">
                <p><b>Example:</b> Learning Level1-Unit9-Lesson8, learning about the topic of "Special Days", with the title "Gifts for Parents", with the keywords being "card|every|father|mother|sometimes|parent", and the key sentences are "Sometimes I give him a card.|I just give him a hug".</p>
            </div>
            <button class="ui primary button get_prompt">
                Prompt生成
            </button>
            <div class="ui divider"></div>
            <div class="ui ignored info message prompt">
                <p></p>
            </div>
            <div class="ui ignored warning message prompt_raw">
                <p></p>
            </div>
            <div class="ui ignored error message prompt_assistant">
                <p></p>
            </div>

        </div>
    </div>
</div>
<div class="menu-button">
    <i class="fa-solid fa-bars"></i>
</div>

<!-- scripts -->
<script>
    $(document).ready(function () {
        // Assuming linkageData.js has been loaded and linkageData is available
        // For example, linkageData could look like this:
        // var linkageData = { "Level1": { "Unit1": { "Lesson1": { "topic": "Nature", "title": "Forests", ... } } } };

        function updateInputs(level, unit, lesson) {
            var levelData = menuData[level] || {};
            var unitData = levelData[unit] || {};
            var lessonData = unitData[lesson] || {};

            $("input[name='topic']").val(lessonData.topic || '');
            $("input[name='title']").val(lessonData.title || '');
            $("input[name='words']").val(lessonData.words || '');
            $("input[name='sentence']").val(lessonData.sentence || '');
        }

        // Dropdown change event handlers
        $('.ui.dropdown.level').dropdown({
            onChange: function (value) {
                var unit = $('.ui.dropdown.unit').dropdown('get value');
                var lesson = $('.ui.dropdown.lesson').dropdown('get value');
                updateInputs(value, unit, lesson);
            }
        });

        $('.ui.dropdown.unit').dropdown({
            onChange: function (value) {
                var level = $('.ui.dropdown.level').dropdown('get value');
                var lesson = $('.ui.dropdown.lesson').dropdown('get value');
                updateInputs(level, value, lesson);
            }
        });

        $('.ui.dropdown.lesson').dropdown({
            onChange: function (value) {
                var level = $('.ui.dropdown.level').dropdown('get value');
                var unit = $('.ui.dropdown.unit').dropdown('get value');
                updateInputs(level, unit, value);
            }
        });

        // Initialize with default values
        updateInputs(
            $('.ui.dropdown.level').dropdown('get value'),
            $('.ui.dropdown.unit').dropdown('get value'),
            $('.ui.dropdown.lesson').dropdown('get value')
        );

        $(".get_prompt").click(function () {

            var level = $("input[name=level]").val();
            var unit = $("input[name=unit]").val();
            var lesson = $("input[name=lesson]").val();
            var topic = $("input[name=topic]").val();
            var title = $("input[name=title]").val();
            if (level === "" || unit === "" || lesson === "" || topic === "" || title === "") {
                alert("level、unit、lesson、topic、title不能为空");
                return;
            }
            level_unit_lesson = level + "-" + unit + "-" + lesson
            prompt_text = "Learning " + level_unit_lesson + ", learning about the topic of \"" + topic + "\", with the title \"" + title + "\"";
            prompt_raw_text = "You will play my English teacher Max, I am a 5-8-year-old Chinese student who has just started learning English. Your teaching style is warm and encouraging, embodying a positive and engaging approach. You will initiate communication by asking questions. Your responses should be as concise as possible, not exceeding 20 words at a time and avoiding complex clauses. Your role is not limited to asking questions; you should also guide the conversation, identify my responses, ask follow-up questions, emphasize my areas for improvement, and encourage deeper thinking. Please instruct me on the topic of ";
            prompt_raw_text += topic;
            var words = $("input[name=words]").val();
            if (words !== "") {
                prompt_text += ", with the keywords being \"" + words + "\""
                prompt_raw_text += ", with the keywords being \"" + words + "\"";
            }
            var sentence = $("input[name=sentence]").val();
            if (sentence !== "") {
                prompt_text += ", and the key sentences are \"" + sentence + "\"."
                prompt_raw_text += ", and the key sentences are \"" + sentence + "\"."
            }else{
                prompt_text += ".";
                prompt_raw_text += ".";
            }


            prompt_assistant_text = `
本节课教材信息：
课程类型：体验课
课程级别：Level1
课程话题：Colorful Toys
课程题目：What Color Is the Doll?
核心词汇：a pink doll, a brown teddy bear, a blue truck, a green monster
核心句法：Do you like this pink doll. Yes, I do./ No, I don't.

本课共有3个stage，根据每个stage的要求 进行相关图片展示、对话练习。

Stage 1
图片内容：男孩手里拿着a brown teddy bear, 在说 ”it’s a brown teddy bear”
教学目标：Student can understand the meaning, form and pronunciation of the word.
教学流程：
Present the word: Display this picture in conversation “a brown teddy bear”.
Practice the word: Have the student repeat check the student’s pronunciation. If there is any mistake , correct it.
Meaning check: Ask the student, What is this in Timmy’s hand? Check the answer, and if there is any mistake, please correct it.

Make sure this part all goals have completed, start next stage.

Stage 2
图片内容：男孩手里拿着a brown teddy bear, 在问女孩”Do you like this brown teddy bear?” 女孩回答说 “No, I don’t.”
教学目标：Student can comprehend the meaning of the dialogue and read the sentences.
教学流程：
Present the dialogue: Display this picture in conversation. Introduce the setting and the characters. Ask the student who they are and what Timmy is holding. Have the student listen to the audio.
Practice the dialogue: Have the student repeat the sentences to understand the pronunciation and meaning. Continue until the student can read them accurately and fluently.
Produce the dialogue: Engage in a role-play with the student.

Make sure this part all goals have completed, start next stage.

Stage 3
Action:
图片介绍：图中有四种玩具”a brown bear”,”a green monster”,”a red doll”,”a blue truck” 下方是需要练习的句型 “Do you like … ?” “Yes, I do. / No, I don’t.”
教学目标：Student can apply prescribed sentence structures to express preferences or dislikes.教学流程：
Present the Activity: Show the student the picture and introduce the associated sentence structures.
Produce the Dialogue: Guide the student in asking questions using the sentence structure "Do you like..." Encourage the student to respond based on his/her own opinion. Facilitate role-switching during the activity, with a focus on the student's pronunciation and the correct usage of the sentence structures.
Give Feedback: Assess the student's performance. Provide constructive feedback and correct any mistakes.

Make sure this part all goals have completed, this lesson finish!
            `
            $(".prompt p").html(prompt_text);
            $(".prompt_raw p").html(prompt_raw_text);
            $(".prompt_assistant p").html(prompt_assistant_text);
        });
    });
</script>
<script src="{{ url_for('bp.static', filename='js/icons.js') }}"></script>
<script src="https://cdn.jsdelivr.net/npm/markdown-it@latest/dist/markdown-it.min.js"></script>
</body>
</html>
